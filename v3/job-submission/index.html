
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://htcondor.github.io/htcondor-ce/v3/job-submission/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Job submission - HTCondor-CE Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/superfences.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#submitting-jobs-to-an-htcondor-ce" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="HTCondor-CE Documentation" class="md-header__button md-logo" aria-label="HTCondor-CE Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HTCondor-CE Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Job submission
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/htcondor/htcondor-ce/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../v5/installation/htcondor-ce/" class="md-tabs__link">
        HTCondor-CE 5
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../v4/installation/htcondor-ce/" class="md-tabs__link">
        HTCondor-CE 4
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../installation/htcondor-ce/" class="md-tabs__link">
        HTCondor-CE 3
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HTCondor-CE Documentation" class="md-nav__button md-logo" aria-label="HTCondor-CE Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    HTCondor-CE Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/htcondor/htcondor-ce/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Home
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        HTCondor-CE 5
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTCondor-CE 5" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          HTCondor-CE 5
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/installation/htcondor-ce/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Configuration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/configuration/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/configuration/local-batch-system/" class="md-nav__link">
        Local Batch System
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/configuration/optional-configuration/" class="md-nav__link">
        Optional Configuration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/batch-system-integration/" class="md-nav__link">
        Batch System Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/troubleshooting/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      <label class="md-nav__link" for="__nav_2_6">
        Central Grid Operations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Central Grid Operations" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Central Grid Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/remote-job-submission/" class="md-nav__link">
        Submit Jobs Remotely
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/troubleshooting/remote-troubleshooting/" class="md-nav__link">
        Remote Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/installation/central-collector/" class="md-nav__link">
        Install a Central Collector
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v5/reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        HTCondor-CE 4
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTCondor-CE 4" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          HTCondor-CE 4
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/installation/htcondor-ce/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/batch-system-integration/" class="md-nav__link">
        Batch System Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/troubleshooting/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      <label class="md-nav__link" for="__nav_3_5">
        Central Grid Operations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Central Grid Operations" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Central Grid Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/remote-job-submission/" class="md-nav__link">
        Submit Jobs Remotely
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/troubleshooting/remote-troubleshooting/" class="md-nav__link">
        Remote Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/installation/central-collector/" class="md-nav__link">
        Install a Central Collector
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v4/reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        HTCondor-CE 3
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTCondor-CE 3" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          HTCondor-CE 3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../installation/htcondor-ce/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../batch-system-integration/" class="md-nav__link">
        Batch System Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/htcondor/htcondor-ce/edit/master/docs/v3/job-submission.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="submitting-jobs-to-an-htcondor-ce">Submitting Jobs to an HTCondor-CE<a class="headerlink" href="#submitting-jobs-to-an-htcondor-ce" title="Permanent link">&para;</a></h1>
<p>This document outlines methods of manual submission to an HTCondor-CE.
It is intended for site administrators wishing to verify the functionality of their HTCondor-CE installation and
developers writing software to submit jobs to an HTCondor-CE (e.g., pilot jobs).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most incoming jobs are pilots from factories and that manual submission does not reflect the standard method that
jobs are submitted to HTCondor-CEs.</p>
</div>
<h2 id="submitting-jobs">Submitting Jobs...<a class="headerlink" href="#submitting-jobs" title="Permanent link">&para;</a></h2>
<p>There are two main methods for submitting files to an HTCondor-CE: using the tools bundled with the <code>htcondor-ce-client</code>
package and using the <code>condor_submit</code> command with a submit file.
Both methods will test end-to-end job submission but the former method is simpler while the latter will walk you through
writing your own submit file.</p>
<p>Before attempting to submit jobs, you will need to generate a proxy from a user certificate before running any jobs.
To generate a proxy, run the following command on the host you plan on submitting from:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>voms-proxy-init
</code></pre></div>
<h3 id="using-htcondor-ce-tools">Using HTCondor-CE tools<a class="headerlink" href="#using-htcondor-ce-tools" title="Permanent link">&para;</a></h3>
<p>There are two HTCondor-CE tools that allow users to test the functionality of their HTCondor-CE:
<a href="../troubleshooting/troubleshooting/#condor_ce_trace">condor_ce_trace</a> and <a href="../troubleshooting/troubleshooting/#condor_ce_run">condor_ce_run</a>.
The former is the preferred tool as it provides useful feedback if failure occurs while the latter is simply an
automated submission tool.
These commands may be run from any host that has <code>htcondor-ce-client</code> installed, which you may wish to do if you are
testing availability of your CE from an external source.</p>
<h4 id="condor_ce_trace">condor_ce_trace<a class="headerlink" href="#condor_ce_trace" title="Permanent link">&para;</a></h4>
<p><code>condor_ce_trace</code> is a Python script that uses HTCondor's Python bindings to run diagnostics, including job submission,
against your HTCondor-CE.
To submit a job with <code>condor_ce_trace</code>, run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>condor_ce_trace --debug condorce.example.com
</code></pre></div>
<p>Replacing <code>condorce.example.com</code> with the hostname of the CE you wish to test.
On success, you will see <code>Job status: Completed</code> and the environment of the job on the worker node it landed on.
If you do not get the expected output, refer to the <a href="../troubleshooting/troubleshooting/#condor_ce_trace">troubleshooting guide</a>.</p>
<h5 id="requesting-resources">Requesting resources<a class="headerlink" href="#requesting-resources" title="Permanent link">&para;</a></h5>
<p><code>condor_ce_trace</code> doesn't make any specific resource requests so its jobs are only given the default resources by the CE.
To request specific resources (or other job attributes), you can specify the <code>--attribute</code> option on the command line:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>condor_ce_trace --debug --attribute<span class="o">=</span><span class="s1">&#39;+resource1=value1&#39;</span>...--attribute<span class="o">=</span><span class="s1">&#39;+resourceN=valueN&#39;</span> condorce.example.com
</code></pre></div>
<p>To submit a job that requests 4 cores, 4 GB of RAM, a wall clock time of 2 hours, and the 'osg' queue, run the following
command:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>condor_ce_trace --debug --attribute<span class="o">=</span><span class="s1">&#39;+xcount=4&#39;</span> --attribute<span class="o">=</span><span class="s1">&#39;+maxMemory=4000&#39;</span> --attribute<span class="o">=</span><span class="s1">&#39;+maxWallTime=120&#39;</span> --attribute<span class="o">=</span><span class="s1">&#39;+remote_queue=osg&#39;</span> condorce.example.com
</code></pre></div>
<p>For a list of other attributes that can be set with the <code>--attribute</code> option, consult the
<a href="#job-attributes">job attributes</a> section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Non-HTCondor batch systems may need additional configuration to support these job attributes.
See the <a href="../batch-system-integration/#setting-batch-system-directives">batch system integration</a>
for details on how to support them.</p>
</div>
<h4 id="condor_ce_run">condor_ce_run<a class="headerlink" href="#condor_ce_run" title="Permanent link">&para;</a></h4>
<p><code>condor_ce_run</code> is a Python script that calls <code>condor_submit</code> on a generated submit file and tracks its progress with
<code>condor_q</code>.
To submit a job with <code>condor_ce_run</code>, run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>condor_ce_run -r condorce.example.com:9619 /bin/env
</code></pre></div>
<p>Replacing <code>condorce.example.com</code> with the hostname of the CE you wish to test.
The command will not return any output until it completes: When it does you will see the environment of the job on the
worker noded it landed on.
If you do not get the expected output, refer to the <a href="../troubleshooting/troubleshooting/#condor_ce_run">troubleshooting guide</a>.</p>
<h3 id="using-a-submit-file">Using a submit file...<a class="headerlink" href="#using-a-submit-file" title="Permanent link">&para;</a></h3>
<p>If you are familiar with HTCondor, submitting a job to an HTCondor-CE using a submit file follows the same procedure as
submitting a job to an HTCondor batch system: Write a submit file and use <code>condor_submit</code> (or in one of our cases,
<code>condor_ce_submit</code>) to submit the job.
This is by virtue of the fact that HTCondor-CE is just a special configuration of HTCondor.
The major differences occur in the specific attributes for the submit files outlined below.</p>
<h4 id="from-the-ce-host">From the CE host<a class="headerlink" href="#from-the-ce-host" title="Permanent link">&para;</a></h4>
<p>This method uses <code>condor_ce_submit</code> to submit directly to an HTCondor-CE.
The only reason we use <code>condor_ce_submit</code> in this case is to take advantage of the already running daemons on the CE host.</p>
<ol>
<li>
<p>Write a submit file, <code>ce_test.sub</code>:</p>
<div class="codehilite"><pre><span></span><code># Required for local HTCondor-CE submission
universe = vanilla
use_x509userproxy = true
+Owner = undefined

# Files
executable = ce_test.sh
output = ce_test.out
error = ce_test.err
<span class="hll">log = ce_test.log
</span>
# File transfer behavior
ShouldTransferFiles = YES
WhenToTransferOutput = ON_EXIT

# Optional resource requests
#+xcount = 4            # Request 4 cores
#+maxMemory = 4000      # Request 4GB of RAM
#+maxWallTime = 120     # Request 2 hrs of wall clock time
#+remote_queue = &quot;osg&quot;  # Request the OSG queue

# Run job once
queue
</code></pre></div>

<p>Replacing <code>ce_test.sh</code> with the path to the executable you wish to run.</p>
<ol>
<li>
<p>You can use any executable you choose for the <code>executable</code> field.
   If you don't have one in mind, you may use the following example test script:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>

date
hostname
env
</code></pre></div>
</td></tr></table>
</li>
<li>
<p>Mark the test script as executable:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@host $ </span>chmod +x ce_test.sh
</code></pre></div>

</li>
</ol>
</li>
<li>
<p>Submit the job:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@host $ </span>condor_ce_submit ce_test.sub
</code></pre></div>

</li>
</ol>
<h4 id="from-another-host">From another host<a class="headerlink" href="#from-another-host" title="Permanent link">&para;</a></h4>
<p>For this method, you will need a functional HTCondor submit node.
If you do not have one readily available, you can install the <code>condor</code> package from the OSG repository to get a simple
submit node:</p>
<ol>
<li>
<p>Install HTCondor:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install condor
</code></pre></div>

</li>
<li>
<p>Start the <code>condor</code> service:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host $ </span>service condor start
</code></pre></div>

</li>
</ol>
<p>Once the <code>condor</code> service is running, write a submit file and submit your job:</p>
<ol>
<li>
<p>Write a submit file, <code>ce_test.sub</code>:</p>
<div class="codehilite"><pre><span></span><code># Required for remote HTCondor-CE submission
universe = grid
use_x509userproxy = true
<span class="hll">grid_resource = condor condorce.example.com condorce.example.com:9619
</span>
# Files
<span class="hll">executable = ce_test.sh
</span>output = ce_test.out
error = ce_test.err
log = ce_test.log

# File transfer behavior
ShouldTransferFiles = YES
WhenToTransferOutput = ON_EXIT

# Optional resource requests
#+xcount = 4            # Request 4 cores
#+maxMemory = 4000      # Request 4GB of RAM
#+maxWallTime = 120     # Request 2 hrs of wall clock time
#+remote_queue = &quot;osg&quot;  # Request the OSG queue

# Run job once
queue
</code></pre></div>

<p>Replacing <code>ce_test.sh</code> with the path to the executable you wish to run and <code>condorce.example.com</code> with the hostname
of the CE you wish to test.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>grid_resource</code> line should start with <code>condor</code> and is not related to which batch system you are using.</p>
</div>
<ol>
<li>
<p>You can use any executable you choose for the <code>executable</code> field.
    If you don't have one in mind, you may use the following example test script:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>

date
hostname
env
</code></pre></div>
</td></tr></table>
</li>
<li>
<p>Mark the test script as executable:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@host $ </span>chmod +x ce_test.sh
</code></pre></div>

</li>
</ol>
</li>
<li>
<p>Submit the job:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@host $ </span>condor_submit ce_test.sub
</code></pre></div>

</li>
</ol>
<h4 id="tracking-job-progress">Tracking job progress<a class="headerlink" href="#tracking-job-progress" title="Permanent link">&para;</a></h4>
<p>When the job completes, stdout will be placed into <code>ce_test.out</code>, stderr will be placed into <code>ce_test.err</code>, and HTCondor
logging information will be placed in <code>ce_test.log</code>.
You can track job progress by looking at the condor queue by running the following command on the CE host:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>condor_ce_q
</code></pre></div>
<p>Using the following table to determine job status:</p>
<table>
<thead>
<tr>
<th align="left">This value in the <code>ST</code> column...</th>
<th align="left">Means that the job is...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">I</td>
<td align="left">idle</td>
</tr>
<tr>
<td align="left">C</td>
<td align="left">complete</td>
</tr>
<tr>
<td align="left">X</td>
<td align="left">being removed</td>
</tr>
<tr>
<td align="left">H</td>
<td align="left">held</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">transferring input</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">transferring output</td>
</tr>
</tbody>
</table>
<h2 id="how-job-routes-affect-your-job">How Job Routes Affect Your Job<a class="headerlink" href="#how-job-routes-affect-your-job" title="Permanent link">&para;</a></h2>
<p>Upon successful submission of your job, the Job Router takes control of your job by matching it to routes and submitting
a transformed job to your batch system.</p>
<h3 id="matching">Matching<a class="headerlink" href="#matching" title="Permanent link">&para;</a></h3>
<p>See <a href="../batch-system-integration/#how-jobs-match-to-job-routes">this section</a> for details on how jobs are matched
to job routes.</p>
<p><strong>Examples</strong></p>
<p>The following three routes only perform filtering and submission of routed jobs to an HTCondor batch system.
The only differences are in the types of jobs that they match:</p>
<ul>
<li><strong>Route 1:</strong> Matches jobs whose attribute <code>foo</code> is equal to <code>bar</code>.</li>
<li><strong>Route 2:</strong> Matches jobs whose attribute <code>foo</code> is equal to <code>baz</code>.</li>
<li><strong>Route 3:</strong> Matches jobs whose attribute <code>foo</code> is neither equal to <code>bar</code> nor <code>baz</code>.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting a custom attribute for job submission requires the <code>+</code> prefix in your submit file but it is unnecessary in
the job routes.</p>
</div>
<div class="highlight"><pre><span></span><code>JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = &quot;Route 1&quot;; \
     Requirements = (TARGET.foo =?= &quot;bar&quot;); \
] \
[ \
     TargetUniverse = 5; \
     name = &quot;Route 2&quot;; \
     Requirements = (TARGET.foo =?= &quot;baz&quot;); \
] \
[ \
     TargetUniverse = 5; \
     name = &quot;Route 3&quot;; \
     Requirements = (TARGET.foo =!= &quot;bar&quot;) &amp;&amp; (TARGET.foo =!= &quot;baz&quot;); \
]
</code></pre></div>
<p>If a user submitted their job with <code>+foo = bar</code> in their submit file, the job would match <code>Route 1</code>.</p>
<h3 id="route-defaults">Route defaults<a class="headerlink" href="#route-defaults" title="Permanent link">&para;</a></h3>
<p><a href="../batch-system-integration/#setting-a-default">Route defaults</a> can be set for batch system queue, maximum memory, number of
cores to request, and maximum walltime.
The submitting user can override any of these by setting the corresponding <a href="#job-attributes">attribute</a> in their job.</p>
<p><strong>Examples</strong></p>
<p>The following route takes all incoming jobs and submits them to an HTCondor batch system requesting 1GB of memory.</p>
<div class="highlight"><pre><span></span><code>JOB_ROUTER_ENTRIES = [ \
     TargetUniverse = 5; \
     name = &quot;Route 1&quot;; \
     set_default_maxMemory = 1000; \
]
</code></pre></div>
<p>A user could submit their job with the attribute <code>+maxMemory=2000</code> and that job would be submitted requesting 2GB memory
instead of the default of 1GB.</p>
<h2 id="troubleshooting-your-jobs">Troubleshooting Your Jobs<a class="headerlink" href="#troubleshooting-your-jobs" title="Permanent link">&para;</a></h2>
<h4 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h4>
<p>All interactions between <code>condor_submit</code> and the CE will be recorded in the file specified by the <code>log</code> attribute in
your submit file.
This includes acknowledgement of the job in your local queue, connection to the CE, and a record of job completion:</p>
<div class="highlight"><pre><span></span><code>000 (786.000.000) 12/09 16:49:55 Job submitted from host: &lt;131.225.154.68:53134&gt;
...
027 (786.000.000) 12/09 16:50:09 Job submitted to grid resource
    GridResource: condor condorce.example.com condorce.example.com:9619
    GridJobId: condor condorce.example.com condorce.example.com:9619 796.0
...
005 (786.000.000) 12/09 16:52:19 Job terminated.
        (1) Normal termination (return value 0)
                Usr 0 00:00:00, Sys 0 00:00:00  -  Run Remote Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Run Local Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Total Remote Usage
                Usr 0 00:00:00, Sys 0 00:00:00  -  Total Local Usage
        0  -  Run Bytes Sent By Job
        0  -  Run Bytes Received By Job
        0  -  Total Bytes Sent By Job
        0  -  Total Bytes Received By Job
</code></pre></div>
<p>If there are issues contacting the CE, you will see error messages about a 'Down Globus Resource':</p>
<div class="highlight"><pre><span></span><code>020 (788.000.000) 12/09 16:56:17 Detected Down Globus Resource
    RM-Contact: fermicloud133.fnal.gov
...
026 (788.000.000) 12/09 16:56:17 Detected Down Grid Resource
    GridResource: condor condorce.example.com condorce.example.com:9619
</code></pre></div>
<p>This indicates a communication issue with your CE that can be diagnosed with
<a href="../troubleshooting/troubleshooting/#condor_ce_ping">condor_ce_ping</a>.</p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<p>Here are some other HTCondor-CE documents that might be helpful:</p>
<ul>
<li><a href="../installation/htcondor-ce/">Installing HTCondor-CE</a></li>
<li><a href="../batch-system-integration/">Configuring HTCondor-CE job routes</a></li>
<li><a href="../troubleshooting/troubleshooting/">The HTCondor-CE troubleshooting guide</a></li>
</ul>
<h3 id="job-attributes">Job attributes<a class="headerlink" href="#job-attributes" title="Permanent link">&para;</a></h3>
<p>The following table is a reference of job attributes that can be included in HTCondor submit files and their GlobusRSL
equivalents.
A more comprehensive list of submit file attributes specific to HTCondor-CE can be found in the
<a href="https://htcondor.readthedocs.io/en/stable/man-pages/condor_submit.html">HTCondor manual</a></p>
<table>
<thead>
<tr>
<th><strong>HTCondor Attribute</strong></th>
<th><strong>Globus RSL</strong></th>
<th><strong>Summary</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93578">arguments</a></td>
<td>arguments</td>
<td>Arguments that will be provided to the executable for the job.</td>
</tr>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93627">error</a></td>
<td>stderr</td>
<td>Path to the file on the client machine that stores stderr from the job.</td>
</tr>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93633">executable</a></td>
<td>executable</td>
<td>Path to the file on the client machine that the job will execute.</td>
</tr>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93652">input</a></td>
<td>stdin</td>
<td>Path to the file on the client machine that stores input to be piped into the stdin of the job.</td>
</tr>
<tr>
<td>+maxMemory</td>
<td>maxMemory</td>
<td>The amount of memory in MB that you wish to allocate to the job.</td>
</tr>
<tr>
<td>+maxWallTime</td>
<td>maxWallTime</td>
<td>The maximum walltime (in minutes) the job is allowed to run before it is removed.</td>
</tr>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93690">output</a></td>
<td>stdout</td>
<td>Path to the file on the client machine that stores stdout from the job.</td>
</tr>
<tr>
<td>+remote_queue</td>
<td>queue</td>
<td>Assign job to the target queue in the scheduler. Note that the queue name should be in quotes.</td>
</tr>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93968">transfer_input_files</a></td>
<td>file_stage_in</td>
<td>A comma-delimited list of all the files and directories to be transferred into the working directory for the job, before the job is started.</td>
</tr>
<tr>
<td><a href="http://research.cs.wisc.edu/htcondor/manual/v8.6/condor_submit.html#93976">transfer_output_files</a></td>
<td>transfer_output_files</td>
<td>A comma-delimited list of all the files and directories to be transferred back to the client, after the job completes.</td>
</tr>
<tr>
<td>+xcount</td>
<td>xcount</td>
<td>The number of cores to allocate for the job.</td>
</tr>
</tbody>
</table>
<p>If you are setting an attribute to a string value, make sure to enclose the string in double-quotes (<code>"</code>), otherwise
HTCondor-CE will try to find an attribute by that name.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>