
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://htcondor.github.io/htcondor-ce/v5/installation/central-collector/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Install a Central Collector - HTCondor-CE Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../css/superfences.css">
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installing-an-htcondor-ce-central-collector" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="HTCondor-CE Documentation" class="md-header__button md-logo" aria-label="HTCondor-CE Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HTCondor-CE Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install a Central Collector
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/htcondor/htcondor-ce/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../htcondor-ce/" class="md-tabs__link md-tabs__link--active">
        HTCondor-CE 5
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../v4/installation/htcondor-ce/" class="md-tabs__link">
        HTCondor-CE 4
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../v3/installation/htcondor-ce/" class="md-tabs__link">
        HTCondor-CE 3
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="HTCondor-CE Documentation" class="md-nav__button md-logo" aria-label="HTCondor-CE Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    HTCondor-CE Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/htcondor/htcondor-ce/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Home
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        HTCondor-CE 5
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTCondor-CE 5" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          HTCondor-CE 5
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../htcondor-ce/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Configuration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/local-batch-system/" class="md-nav__link">
        Local Batch System
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2_3" type="checkbox" id="__nav_2_2_3" >
      
      <label class="md-nav__link" for="__nav_2_2_3">
        Job Router
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Job Router" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          Job Router
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/job-router-overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/writing-job-routes/" class="md-nav__link">
        Writing Job Routes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/htcondor-routes/" class="md-nav__link">
        For HTCondor Batch Systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/non-htcondor-routes/" class="md-nav__link">
        For Non-HTCondor Batch Systems
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/optional-configuration/" class="md-nav__link">
        Optional Configuration
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      <label class="md-nav__link" for="__nav_2_4">
        Troubleshooting
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Troubleshooting" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Troubleshooting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/common-issues/" class="md-nav__link">
        Common Issues
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/debugging-tools/" class="md-nav__link">
        Debugging Tools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/logs/" class="md-nav__link">
        Helpful Logs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" checked>
      
      <label class="md-nav__link" for="__nav_2_5">
        Central Grid Operations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Central Grid Operations" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Central Grid Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../remote-job-submission/" class="md-nav__link">
        Submit Jobs Remotely
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/remote-troubleshooting/" class="md-nav__link">
        Remote Troubleshooting
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Install a Central Collector
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Install a Central Collector
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" class="md-nav__link">
    Before Starting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-a-central-collector" class="md-nav__link">
    Installing a Central Collector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-a-central-collector" class="md-nav__link">
    Configuring a Central Collector
  </a>
  
    <nav class="md-nav" aria-label="Configuring a Central Collector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-configuration" class="md-nav__link">
    Optional configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#banning-htcondor-ces" class="md-nav__link">
    Banning HTCondor-CEs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-htcondor-ce-view" class="md-nav__link">
    Configuring HTCondor-CE View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributing-configuration-to-site-htcondor-ces" class="md-nav__link">
    Distributing Configuration to Site HTCondor-CEs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verifying-a-central-collector" class="md-nav__link">
    Verifying a Central Collector
  </a>
  
    <nav class="md-nav" aria-label="Verifying a Central Collector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-central-collector-services" class="md-nav__link">
    Managing Central Collector services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validating-a-central-collector" class="md-nav__link">
    Validating a Central Collector
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        HTCondor-CE 4
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTCondor-CE 4" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          HTCondor-CE 4
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/installation/htcondor-ce/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/batch-system-integration/" class="md-nav__link">
        Batch System Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/troubleshooting/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      <label class="md-nav__link" for="__nav_3_5">
        Central Grid Operations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Central Grid Operations" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Central Grid Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/remote-job-submission/" class="md-nav__link">
        Submit Jobs Remotely
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/troubleshooting/remote-troubleshooting/" class="md-nav__link">
        Remote Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/installation/central-collector/" class="md-nav__link">
        Install a Central Collector
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v4/reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        HTCondor-CE 3
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTCondor-CE 3" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          HTCondor-CE 3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v3/installation/htcondor-ce/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v3/batch-system-integration/" class="md-nav__link">
        Batch System Integration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v3/verification/" class="md-nav__link">
        Verification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v3/troubleshooting/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v3/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../v3/reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/htcondor/htcondor-ce/edit/docs/docs/v5/installation/central-collector.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="installing-an-htcondor-ce-central-collector">Installing an HTCondor-CE Central Collector<a class="headerlink" href="#installing-an-htcondor-ce-central-collector" title="Permanent link">&para;</a></h1>
<p>The HTCondor-CE Central Collector is an information service designed to provide a an overview and descriptions of grid
services.
Based on the
<a href="https://htcondor.readthedocs.io/en/latest/admin-manual/setting-up-special-environments.html#configuring-the-htcondorview-server">HTCondorView Server</a>,
the Central Collector accepts <a href="https://htcondor.readthedocs.io/en/latest/misc-concepts/classad-mechanism.html">ClassAds</a>
from site HTCondor-CEs by default but may accept from other services using the
<a href="https://htcondor.readthedocs.io/en/latest/apis/python-bindings/index.html">HTCondor Python Bindings</a>.
By distributing configuration to each member site, a central grid team can coordinate the information that site 
HTCondor-CEs should advertise.</p>
<p>Additionally, the the HTCondor-CE View web server may be installed alongside a Central Collector to display pilot job
statistics across its grid, as well as information for each site HTCondor-CE.
For example, the OSG Central Collector can be viewed at <a href="https://collector.opensciencegrid.org">https://collector.opensciencegrid.org</a>.</p>
<p>Use this page to learn how to install, configure, and run an HTCondor-CE Central Collector as part of your central
operations.</p>
<h2 id="before-starting">Before Starting<a class="headerlink" href="#before-starting" title="Permanent link">&para;</a></h2>
<p>Before starting the installation process, consider the following points
(consulting <a href="../../reference/">the reference page</a> as necessary):</p>
<ul>
<li><strong>User IDs:</strong> If they do not exist already, the installation will create the <code>condor</code> Linux user (UID 4716)</li>
<li><strong>SSL certificate:</strong> The HTCondor-CE Central Collector service uses a host certificate and key for SSL and GSI
    authentication</li>
<li><strong>DNS entries:</strong> Forward and reverse DNS must resolve for the HTCondor-CE Central Collector host</li>
<li><strong>Network ports:</strong> Site HTCondor-CEs must be able to contact the Central Collector on port 9619 (TCP).
    Additionally, the optional HTCondor-CE View web server should be accessible on port 80 (TCP).</li>
</ul>
<p>There are some one-time (per host) steps to prepare in advance:</p>
<ul>
<li>Ensure the host has a supported operating system (Red Hat Enterprise Linux variant 7)</li>
<li>Obtain root access to the host</li>
<li>Prepare the <a href="https://fedoraproject.org/wiki/EPEL">EPEL</a> and <a href="https://research.cs.wisc.edu/htcondor/yum/">HTCondor</a> Yum
  repositories</li>
<li>Install CA certificates and VO data into <code>/etc/grid-security/certificates</code> and <code>/etc/grid-security/vomsdir</code>,
  respectively</li>
</ul>
<h2 id="installing-a-central-collector">Installing a Central Collector<a class="headerlink" href="#installing-a-central-collector" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Clean yum cache:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum clean all --enablerepo<span class="o">=</span>*
</code></pre></div>

</li>
<li>
<p>Update software:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum update
</code></pre></div>

<p>This command will update <strong>all</strong> packages</p>
</li>
<li>
<p>Install the <code>fetch-crl</code> package, available from the EPEL repositories.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install fetch-crl
</code></pre></div>

</li>
<li>
<p>Install the Central Collector software:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install htcondor-ce-collector
</code></pre></div>

</li>
</ol>
<h2 id="configuring-a-central-collector">Configuring a Central Collector<a class="headerlink" href="#configuring-a-central-collector" title="Permanent link">&para;</a></h2>
<p>Like a site HTCondor-CE, the Central Collector uses X.509 host certificates and certificate authorities (CAs) when
authenticating SSL and GSI connections.
By default, the Central Collector uses the default system locations to locate CAs and host certificate when
authenticating SSL connections, i.e. for SSL authentication methods.
But traditionally, the Central Collector and HTCondor-CEs have authenticated with each other using specialized grid
certificates (e.g. certificates issued by <a href="https://dl.igtf.net/distribution/igtf/current/accredited/accredited.in">IGTF CAs</a>)
located in <code>/etc/grid-security/</code>.</p>
<p>Choose one of the following options to configure your Central Collector to use grid or system certificates for
authentication:</p>
<ul>
<li>
<p>If your site HTCondor-CEs will be advertising to your Central Collector using grid certificates or you are using a
    grid certificate for your Central Collector's host certificate:</p>
<ol>
<li>
<p>Set the following configuration in <code>/etc/condor-ce/config.d/01-ce-auth.conf</code>:</p>
<div class="codehilite"><pre><span></span><code>AUTH_SSL_SERVER_CERTFILE = /etc/grid-security/hostcert.pem
AUTH_SSL_SERVER_KEYFILE = /etc/grid-security/hostkey.pem
AUTH_SSL_SERVER_CADIR = /etc/grid-security/certificates
AUTH_SSL_SERVER_CAFILE =
AUTH_SSL_CLIENT_CERTFILE = /etc/grid-security/hostcert.pem
AUTH_SSL_CLIENT_KEYFILE = /etc/grid-security/hostkey.pem
AUTH_SSL_CLIENT_CADIR = /etc/grid-security/certificates
AUTH_SSL_CLIENT_CAFILE =
</code></pre></div>

</li>
<li>
<p>Install your host certificate and key into <code>/etc/grid-security/hostcert.pem</code> and <code>/etc/grid-security/hostkey.pem</code>,
    respectively</p>
</li>
<li>
<p>Set the ownership and Unix permissions of the host certificate and key</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>chown root:root /etc/grid-security/hostcert.pem /etc/grid-security/hostkey.pem
<span class="gp">root@host # </span>chmod <span class="m">644</span> /etc/grid-security/hostcert.pem
<span class="gp">root@host # </span>chmod <span class="m">600</span> /etc/grid-security/hostkey.pem
</code></pre></div>

</li>
</ol>
</li>
<li>
<p>Otherwise, use the default system locations:</p>
<ol>
<li>
<p>Install your host certificate and key into <code>/etc/pki/tls/certs/localhost.crt</code> and
    <code>/etc/pki/tls/private/localhost.key</code>, respectively</p>
</li>
<li>
<p>Set the ownership and Unix permissions of the host certificate and key</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>chown root:root /etc/pki/tls/certs/localhost.crt /etc/pki/tls/private/localhost.key
<span class="gp">root@host # </span>chmod <span class="m">644</span> /etc/pki/tls/certs/localhost.crt
<span class="gp">root@host # </span>chmod <span class="m">600</span> /etc/pki/tls/private/localhost.key
</code></pre></div>

</li>
</ol>
</li>
</ul>
<h3 id="optional-configuration">Optional configuration<a class="headerlink" href="#optional-configuration" title="Permanent link">&para;</a></h3>
<p>The following configuration steps are optional and will not be required for all Central Collectors.
If you do not need any of the following special configurations, skip to
<a href="#distributing-configuration-to-site-htcondor-ces">the section on next steps</a>.</p>
<h4 id="banning-htcondor-ces">Banning HTCondor-CEs<a class="headerlink" href="#banning-htcondor-ces" title="Permanent link">&para;</a></h4>
<p>By default, Central Collectors accept ClassAds from all HTCondor-CEs with a valid and accepted certificate.
If you want to stop accepting ClassAds from a particular HTCondor-CE, add its hostname to <code>DENY_ADVERTISE_SCHEDD</code> in
<code>/etc/condor-ce/config.d/01-ce-collector.conf</code>.
For example:</p>
<div class="highlight"><pre><span></span><code>DENY_ADVERTISE_SCHEDD = $(DENY_ADVERTISE_SCHEDD), misbehaving-ce-1.bad-domain.com, misbehaving-ce-2.bad-domain.com
</code></pre></div>
<h4 id="configuring-htcondor-ce-view">Configuring HTCondor-CE View<a class="headerlink" href="#configuring-htcondor-ce-view" title="Permanent link">&para;</a></h4>
<p>The HTCondor-CE View is an optional web interface to the status of all HTCondor-CEs advertising to your Central
Collector.
To run the HTCondor-CE View, install the appropriate package and set the relevant configuration.</p>
<ol>
<li>
<p>Begin by installing the <code>htcondor-ce-view</code> package:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install htcondor-ce-view
</code></pre></div>

</li>
<li>
<p>Restart the <code>condor-ce-collector</code> service</p>
</li>
<li>
<p>Verify the service by entering your Central Collector's hostname into your web browser</p>
</li>
</ol>
<p>The website is served on port 80 by default.
To change this default, edit the value of <code>HTCONDORCE_VIEW_PORT</code> in <code>/etc/condor-ce/config.d/05-ce-view.conf</code>.</p>
<h2 id="distributing-configuration-to-site-htcondor-ces">Distributing Configuration to Site HTCondor-CEs<a class="headerlink" href="#distributing-configuration-to-site-htcondor-ces" title="Permanent link">&para;</a></h2>
<p>To make the Central Collector truly useful, each site HTCondor-CE in your organization will need to configure their
HTCondor-CEs to advertise to your Central Collector(s) along with any custom information that may be of interest.
For example, the OSG provides default configuration to OSG sites through an <code>osg-ce</code>
<a href="https://docs.fedoraproject.org/en-US/Fedora_Contributor_Documentation/1/html/Software_Collections_Guide/sect-Creating_a_Meta_Package.html">metapackage</a>
and configuration tools.
Following the <a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">Filesystem Hierarchy Standard</a>, the
following configuration should be set by HTCondor-CE administrators in <code>/etc/condor-ce/config.d/</code> or by packagers in
<code>/usr/share/condor-ce/config.d/</code>:</p>
<ol>
<li>
<p>Set <code>CONDOR_VIEW_HOST</code> to a comma-separated list of Central Collectors:</p>
<div class="codehilite"><pre><span></span><code>CONDOR_VIEW_HOST = collector.htcondor.org:9619, collector1.htcondor.org:9619, collector2.htcondor.org:9619
</code></pre></div>

</li>
<li>
<p>Append arbitrary attributes to <code>SCHEDD_ATTRS</code> containing custom information in any number of arbitrarily
    configuration attributes:</p>
<div class="codehilite"><pre><span></span><code>ATTR_NAME_1 = value1
ATTR_NAME_2 = value2
SCHEDD_ATTRS = $(SCHEDD_ATTRS) ATTR_NAME_1 ATTR_NAME_2
</code></pre></div>

<p>For example, OSG sites advertise information describing their <a href="https://topology.opensciencegrid.org">OSG Topology</a>
registrations, local batch system, and local resourcess:</p>
<div class="codehilite"><pre><span></span><code>OSG_Resource = &quot;local&quot;
OSG_ResourceGroup = &quot;&quot;
OSG_BatchSystems = &quot;condor&quot;
OSG_ResourceCatalog = { \
  [ \
    AllowedVOs = { &quot;osg&quot; }; \
    CPUs = 2; \
    MaxWallTime = 1440; \
    Memory = 10000; \
    Name = &quot;test&quot;; \
    Requirements = TARGET.RequestCPUs &lt;= CPUs &amp;&amp; TARGET.RequestMemory &lt;= Memory &amp;&amp; member(TARGET.VO, AllowedVOs); \
    Transform = [ set_MaxMemory = RequestMemory; set_xcount = RequestCPUs; ]; \
  ] \
}
SCHEDD_ATTRS = $(SCHEDD_ATTRS) OSG_Resource OSG_ResourceGroup OSG_BatchSystems OSG_ResourceCatalog
</code></pre></div>

</li>
</ol>
<h2 id="verifying-a-central-collector">Verifying a Central Collector<a class="headerlink" href="#verifying-a-central-collector" title="Permanent link">&para;</a></h2>
<p>To verify that you have a working installation of a Central Collector, ensure that all the relevant services are started
and enabled then perform the validation steps below.</p>
<h3 id="managing-central-collector-services">Managing Central Collector services<a class="headerlink" href="#managing-central-collector-services" title="Permanent link">&para;</a></h3>
<p>In addition to the Central Collector service itself, there are a number of supporting services in your installation.
The specific services are:</p>
<table>
<thead>
<tr>
<th align="left">Software</th>
<th align="left">Service name</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Fetch CRL</td>
<td align="left"><code>fetch-crl-boot</code> and <code>fetch-crl-cron</code></td>
</tr>
<tr>
<td align="left">HTCondor-CE</td>
<td align="left"><code>condor-ce-collector</code></td>
</tr>
</tbody>
</table>
<p>Start and enable the services in the order listed and stop them in reverse order.
As a reminder, here are common service commands (all run as <code>root</code>):</p>
<table>
<thead>
<tr>
<th align="left">To...</th>
<th align="left">On EL7, run the command...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Start a service</td>
<td align="left"><code>systemctl start &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Stop a  service</td>
<td align="left"><code>systemctl stop &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Enable a service to start on boot</td>
<td align="left"><code>systemctl enable &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Disable a service from starting on boot</td>
<td align="left"><code>systemctl disable &lt;SERVICE-NAME&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="validating-a-central-collector">Validating a Central Collector<a class="headerlink" href="#validating-a-central-collector" title="Permanent link">&para;</a></h3>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<p>If you have any questions or issues with the installation process, please <a href="../../..#contact-us">contact us</a> for assistance.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../troubleshooting/remote-troubleshooting/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Remote Troubleshooting
            </div>
          </div>
        </a>
      
      
        <a href="../../releases/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Releases
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>